---
import Layout from '../layouts/Layout.astro';

const info = {
  name: "Luis Gaviria",
  role: "Senior Software Engineer & Domain Expert",
  location: "Boston, MA",
  phone: "508-762-7639",
  email: "Luis.aptx@gmail.com",
  linkedin: "linkedin.com/in/luisfgaviria",
  github: "github.com/luisgaviria",
};

const experience = [
  {
    company: "Riverbed",
    role: "Web Developer",
    period: "2022 — 2026",
    metrics: ["$200k+ Annual Savings", "40% QA Efficiency", "A+ Security Rating"],
    achievements: [
      "Architected a full-scale CMS migration from WordPress to Drupal, overseeing end-to-end data integrity and resulting in enhanced system security headers (A+ rating).",
      "Eliminated $200k+ in annual operational overhead by insourcing web development and engineering custom technical solutions in-house.",
      "Automated lead-capture and QA pipelines using Marketo and Cypress, cutting manual testing time by 40% and ensuring 100% UTM tracking accuracy.",
      "Developed a modular component library and custom Schema Markup plugins using Node.js and React to streamline global SEO deployments.",
      "Spearheaded performance optimization strategies via Lighthouse and Google Search Console to maintain top-tier Core Web Vitals."
    ]
  },
  {
    company: "Aternity",
    role: "Web Development Intern",
    period: "2021 — 2022",
    metrics: ["Lead-Gen Optimized", "Global Multi-lang"],
    achievements: [
      "Engineered high-conversion landing pages and interactive components using PHP, Twig, and SCSS for paid global marketing campaigns.",
      "Integrated complex Marketo and Drift workflows to modernize lead capture capabilities and form tracking infrastructure.",
      "Hardened site security and performance by executing a comprehensive CMS audit, core updates, and outdated plugin elimination.",
      "Developed custom ACF (Advanced Custom Fields) blades to enable modular page styling and flexible content organization for marketing teams."
    ]
  },
  {
    company: "Angles Realty, LP",
    role: "Managing Partner (Technical Operations)",
    period: "2013 — 2020",
    metrics: ["Platform Founder", "Full-Stack Lead"],
    achievements: [
      "Engineered the firm's proprietary digital infrastructure, focusing on automated lead generation and full-stack web platforms.",
      "Leveraged 20 years of real estate domain expertise to translate complex business logic into scalable technical workflows.",
      "Directed end-to-end technical strategy, including financial planning and the implementation of digital operational tools."
    ]
  }
];

const education = [
  {
    school: "Launch Academy",
    program: "Apprentice Full Stack Software Developer",
    location: "Boston, MA",
    details: "Immersive program focused on JavaScript, Node.js, React, and SQL fundamentals."
  },
  {
    school: "Taller de Músics",
    program: "Music Performance",
    location: "Barcelona, Spain",
    details: "Mastery of complex musical systems and performance theory."
  }
];

const skillGroups = [
  { label: "Technical Languages", items: ["JavaScript", "TypeScript", "Golang", "Python", "PHP", "SQL"] },
  { label: "Architecture", items: ["Svelte", "Astro", "Node.js", "React", "Next.js"] },
  { label: "Infrastructure", items: ["Docker", "Cypress", "Vercel", "Drupal", "Lighthouse"] }
];
---

<Layout title={`${info.name} | Senior Software Engineer`}>
    <div class="max-w-6xl mx-auto px-6 py-12 lg:py-24 print:p-0 relative">
      <div class="print:hidden absolute top-0 -left-12 w-96 h-96 bg-slate-200/20 dark:bg-slate-800/10 blur-[120px] rounded-full -z-10"></div>
      
      <header class="mb-20 md:mb-32 mt-12 print:mt-0 print:mb-8">
        <div class="relative mb-8 md:mb-12 select-none print:mb-4">
            <h1 class="text-7xl md:text-[10rem] font-black tracking-tighter text-slate-900 dark:text-white leading-[0.8] uppercase print:text-5xl print:tracking-tight print:leading-none">
              {info.name.split(' ')[0]}<br/>
              <span class="text-transparent stroke-brand print:text-slate-900 print:stroke-none">{info.name.split(' ')[1]}</span>
            </h1>
        </div>
        
        <div class="grid lg:grid-cols-2 gap-12 items-start border-t border-slate-200 dark:border-slate-800 pt-12 print:pt-4 print:grid-cols-1 print:gap-4 print:border-slate-900">
            <div>
                <div class="flex flex-wrap gap-2 mb-8 print:mb-2">
                    <span class="px-4 py-1.5 bg-slate-900 dark:bg-white text-white dark:text-black text-[10px] font-black uppercase tracking-widest rounded-md print:bg-transparent print:text-slate-900 print:p-0 print:text-xs">
                        {info.role}
                    </span>
                </div>
                <p class="text-2xl md:text-3xl text-slate-900 dark:text-white font-medium leading-tight tracking-tight max-w-xl print:text-sm print:leading-snug">
                    Full-stack engineer specializing in <span class="text-slate-500 print:text-slate-900 print:font-bold">CMS architecture</span> and high-efficiency platforms.
                </p>
            </div>
            <div class="flex flex-col gap-4 lg:items-end text-xl font-bold print:flex-row print:gap-6 print:text-xs print:items-start">
                <a href={`mailto:${info.email}`} class="text-slate-900 dark:text-white underline underline-offset-8 decoration-slate-200 print:no-underline print:text-slate-900">{info.email}</a>
                <span class="hidden print:inline text-slate-900">{info.phone}</span>
                <div class="flex gap-8 text-xs font-black uppercase tracking-[0.2em] text-slate-500 print:hidden">
                    <a href={`https://${info.linkedin}`} target="_blank">LinkedIn</a>
                    <a href={`https://${info.github}`} target="_blank">GitHub</a>
                </div>
            </div>
        </div>
      </header>

      <section class="mb-32 grid grid-cols-1 md:grid-cols-3 gap-6 print:mb-8 print:grid-cols-3 print:gap-4 print:border-b print:border-slate-100 print:pb-6">
        {skillGroups.map(group => (
          <div class="p-8 bg-white dark:bg-slate-900/40 border border-slate-200 dark:border-slate-800 backdrop-blur-sm rounded-2xl print:p-0 print:border-none print:bg-transparent">
            <h4 class="text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-8 border-b border-slate-100 dark:border-slate-800 pb-2 print:mb-2 print:text-slate-900">{group.label}</h4>
            <div class="flex flex-wrap gap-x-4 gap-y-3 print:gap-x-2 print:gap-y-1">
              {group.items.map(item => (
                <span class="text-lg font-bold text-slate-900 dark:text-slate-200 print:text-[10pt] print:font-normal">{item}</span>
              ))}
            </div>
          </div>
        ))}
      </section>

      <section class="space-y-40 mb-40 print:space-y-8 print:mb-8">
        {experience.map(job => (
          <div class="grid lg:grid-cols-4 gap-12 relative print:grid-cols-[120px_1fr] print:gap-6 print:page-break-inside-avoid">
            <div class="lg:sticky lg:top-32 h-fit print:static">
                <div class="text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-4 print:text-slate-900 print:mb-1">{job.period}</div>
                <div class="flex flex-col gap-2 print:hidden">
                    {job.metrics.map(metric => (
                        <span class="text-[11px] w-fit px-4 py-1.5 bg-slate-50 dark:bg-slate-900/50 text-slate-600 border border-slate-200 rounded-lg">{metric}</span>
                    ))}
                </div>
            </div>
            <div class="lg:col-span-3">
              <div class="mb-12 print:mb-2">
                <h3 class="text-5xl md:text-6xl font-black text-slate-900 dark:text-white uppercase tracking-tighter mb-2 leading-none print:text-xl print:tracking-normal">{job.company}</h3>
                <p class="text-xl font-bold text-slate-500 print:text-sm print:text-slate-900">{job.role}</p>
              </div>
              <ul class="grid gap-6 print:gap-1">
                {job.achievements.map(item => (
                  <li class="flex gap-6 text-xl leading-snug text-slate-600 dark:text-slate-300 print:text-[10pt] print:leading-normal print:text-slate-800 print:gap-2">
                    <span class="text-slate-300 dark:text-slate-700 font-black print:text-slate-900">•</span>
                    {item}
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </section>

      <section class="grid lg:grid-cols-4 gap-12 border-t border-slate-200 dark:border-slate-800 pt-24 mb-40 print:pt-4 print:grid-cols-[120px_1fr] print:gap-6 print:mb-0 print:border-slate-900">
        <h2 class="text-[10px] font-black uppercase tracking-[0.4em] text-slate-400 print:text-slate-900">Education</h2>
        <div class="lg:col-span-3 grid md:grid-cols-2 gap-12 print:grid-cols-1 print:gap-4">
            {education.map(edu => (
                <div class="p-8 bg-slate-50/50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-800/50 print:p-0 print:bg-transparent print:border-none">
                    <h4 class="text-2xl font-black text-slate-900 dark:text-white uppercase tracking-tight mb-1 print:text-lg">{edu.school}</h4>
                    <p class="text-xs font-black text-slate-500 uppercase tracking-widest mb-4 print:mb-1 print:text-slate-900">{edu.program}</p>
                    <p class="text-lg text-slate-600 dark:text-slate-400 leading-snug print:text-[10pt] print:text-slate-700">{edu.details}</p>
                </div>
            ))}
        </div>
      </section>

      <footer class="mt-40 pt-12 border-t border-slate-200 dark:border-slate-800 flex justify-between items-center print:hidden">
        <p class="text-[10px] font-bold uppercase tracking-[0.4em] text-slate-400">{info.name} // 2026</p>
        <button onclick="window.print()" class="px-8 py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-950 font-bold rounded-xl shadow-lg">
          Export Document
        </button>
      </footer>
    </div>
</Layout>

<style is:global>
  .stroke-brand {
    -webkit-text-stroke: 2px #0f172a;
  }
  :global(.dark) .stroke-brand {
    -webkit-text-stroke: 2px #ffffff;
  }

  @media print {
    @page { 
      size: letter;
      margin: 0.4in 0.5in; 
    }
    
    /* Force high contrast for black/white printers */
    body { 
      background: white !important; 
      color: black !important; 
      -webkit-print-color-adjust: exact;
    }

    /* Reset all web-based large spacing */
    .mb-32, .mb-40, .mt-40, .py-12, .py-24, .space-y-40 > * + * { 
      margin-top: 0 !important; 
      margin-bottom: 0.5rem !important; 
      padding-top: 0 !important;
      padding-bottom: 0 !important;
    }

    /* Re-add specific small gaps for print hierarchy */
    .mb-8 { margin-bottom: 1rem !important; }
    
    /* Fix fonts for paper */
    h1, h2, h3, h4, p, li, span {
      font-family: sans-serif !important;
    }

    /* Ensure no text is transparent or stroked on paper */
    .text-transparent {
      color: black !important;
    }
    .stroke-brand {
      -webkit-text-stroke: 0 !important;
      color: black !important;
    }
  }
</style>